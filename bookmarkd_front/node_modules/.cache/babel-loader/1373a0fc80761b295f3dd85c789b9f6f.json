{"ast":null,"code":"var _jsxFileName = \"/Users/salimohamed/bookmarkd/bookmarkd_front/src/app.js\";\nimport React from \"react\";\nimport \"./css/style.css\";\nimport Form from \"./form.js\";\n\nconst App = props => {\n  // State to hold the bookmarks\n  const [books, setBooks] = React.useState(null); // State to hold the bookmark the user wants to edit\n\n  const [editBookmark, setEditBookmark] = React.useState({\n    title: '',\n    url: ''\n  }); // Holds blank form data\n\n  const blank = {\n    title: '',\n    url: ''\n  }; // Hook to get the bookmarks when the component loads\n\n  React.useEffect(() => {\n    getInfo();\n  }, []); // Get the bookmarks from the API\n\n  const getInfo = async () => {\n    const response = await fetch('http://localhost:3001/books');\n    const result = await response.json();\n    console.log(result);\n    setBooks(result);\n  };\n\n  const handleCreate = async data => {\n    const response = await fetch('http://localhost:3001/books', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    getInfo(); // Update the list of bookmarks\n  };\n\n  const handleDelete = async id => {\n    const response = await fetch(`http://localhost:3001/books/${id}`, {\n      method: \"DELETE\"\n    });\n    getInfo(); // Update the list of bookmarks\n  };\n\n  const handleSelect = async bookmark => {\n    setEditBookmark(bookmark);\n  };\n\n  const handleEdit = async data => {\n    const response = await fetch(`http://localhost:3001/books/${data._id}`, {\n      method: 'PUT',\n      header: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    console.log(data); // Update list of bookmarks\n\n    getInfo();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Bookmarkd\")), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 10\n    }\n  }, \"Add a Bookmark\"), /*#__PURE__*/React.createElement(Form, {\n    initial: blank,\n    handleSubmit: handleCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Edit Bookmark\"), /*#__PURE__*/React.createElement(Form, {\n    initial: editBookmark,\n    handleSubmit: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, books ? books.map(bookmark => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: bookmark._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: bookmark.url,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 40\n      }\n    }, bookmark.title)), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        handleDelete(bookmark._id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        handleSelect(bookmark);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, \"Edit\"));\n  }) : \"Loading...\"));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/salimohamed/bookmarkd/bookmarkd_front/src/app.js"],"names":["React","Form","App","props","books","setBooks","useState","editBookmark","setEditBookmark","title","url","blank","useEffect","getInfo","response","fetch","result","json","console","log","handleCreate","data","method","headers","body","JSON","stringify","handleDelete","id","handleSelect","bookmark","handleEdit","_id","header","map"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AACA,OAAOC,IAAP,MAAiB,WAAjB;;AAEA,MAAMC,GAAG,GAAIC,KAAD,IAAW;AAErB;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,KAAK,CAACM,QAAN,CAAe,IAAf,CAA1B,CAHqB,CAKrB;;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCR,KAAK,CAACM,QAAN,CAAe;AACrDG,IAAAA,KAAK,EAAE,EAD8C;AAErDC,IAAAA,GAAG,EAAE;AAFgD,GAAf,CAAxC,CANqB,CAWrB;;AACA,QAAMC,KAAK,GAAG;AACZF,IAAAA,KAAK,EAAE,EADK;AAEZC,IAAAA,GAAG,EAAE;AAFO,GAAd,CAZqB,CAiBrB;;AACAV,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AACpBC,IAAAA,OAAO;AACR,GAFD,EAEG,EAFH,EAlBqB,CAsBrB;;AACA,QAAMA,OAAO,GAAG,YAAY;AAC1B,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAA5B;AACA,UAAMC,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACAX,IAAAA,QAAQ,CAACW,MAAD,CAAR;AACD,GALD;;AAOA,QAAMI,YAAY,GAAG,MAAOC,IAAP,IAAgB;AACnC,UAAMP,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAAD,EAAgC;AAC1DO,MAAAA,MAAM,EAAE,MADkD;AAE1DC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFiD;AAK1DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AALoD,KAAhC,CAA5B;AAQAR,IAAAA,OAAO,GAT4B,CASxB;AACZ,GAVD;;AAYA,QAAMc,YAAY,GAAG,MAAOC,EAAP,IAAc;AACjC,UAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8Ba,EAAG,EAAnC,EAAsC;AAChEN,MAAAA,MAAM,EAAE;AADwD,KAAtC,CAA5B;AAGAT,IAAAA,OAAO,GAJ0B,CAItB;AACZ,GALD;;AAOA,QAAMgB,YAAY,GAAG,MAAOC,QAAP,IAAoB;AACvCtB,IAAAA,eAAe,CAACsB,QAAD,CAAf;AACD,GAFD;;AAIA,QAAMC,UAAU,GAAG,MAAOV,IAAP,IAAgB;AAEjC,UAAMP,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8BM,IAAI,CAACW,GAAI,EAAzC,EAA4C;AACtEV,MAAAA,MAAM,EAAE,KAD8D;AAEtEW,MAAAA,MAAM,EAAE;AACN,wBAAgB;AADV,OAF8D;AAKtET,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AALgE,KAA5C,CAA5B;AAOAH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ,EATiC,CAUjC;;AACAR,IAAAA,OAAO;AACR,GAZD;;AAgBA,sBACE,uDACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAR,CADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAL,eACE,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEF,KAAf;AAAsB,IAAA,YAAY,EAAES,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,eAGE,oBAAC,IAAD;AAAM,IAAA,OAAO,EAAEb,YAAf;AAA6B,IAAA,YAAY,EAAEwB,UAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CAFA,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3B,KAAK,GACFA,KAAK,CAAC8B,GAAN,CAAWJ,QAAD,IAAc;AACxB,wBACE;AAAI,MAAA,GAAG,EAAEA,QAAQ,CAACE,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAEF,QAAQ,CAACpB,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKoB,QAAQ,CAACrB,KAAd,CAAvB,CADF,eAEE;AAAQ,MAAA,OAAO,EAAE,MAAM;AAACkB,QAAAA,YAAY,CAACG,QAAQ,CAACE,GAAV,CAAZ;AAA4B,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,eAKE;AAAQ,MAAA,OAAO,EAAE,MAAM;AAACH,QAAAA,YAAY,CAACC,QAAD,CAAZ;AAAuB,OAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CADF;AAWD,GAZC,CADE,GAcF,YAfN,CATF,CADF;AA8BD,CAnGD;;AAqGA,eAAe5B,GAAf","sourcesContent":["import React from \"react\";\nimport \"./css/style.css\";\nimport Form from \"./form.js\";\n\nconst App = (props) => {\n\n  // State to hold the bookmarks\n  const [books, setBooks] = React.useState(null);\n\n  // State to hold the bookmark the user wants to edit\n  const [editBookmark, setEditBookmark] = React.useState({\n    title: '',\n    url: ''\n  });\n\n  // Holds blank form data\n  const blank = {\n    title: '',\n    url: ''\n  }\n\n  // Hook to get the bookmarks when the component loads\n  React.useEffect(() => {\n    getInfo();\n  }, []);\n\n  // Get the bookmarks from the API\n  const getInfo = async () => {\n    const response = await fetch('http://localhost:3001/books');\n    const result = await response.json();\n    console.log(result);\n    setBooks(result);\n  };\n\n  const handleCreate = async (data) => {\n    const response = await fetch('http://localhost:3001/books', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    \n    getInfo(); // Update the list of bookmarks\n  };\n\n  const handleDelete = async (id) => {\n    const response = await fetch(`http://localhost:3001/books/${id}`, {\n      method: \"DELETE\",\n    });\n    getInfo(); // Update the list of bookmarks\n  };\n\n  const handleSelect = async (bookmark) => {\n    setEditBookmark(bookmark);\n  };\n\n  const handleEdit = async (data) => {\n\n    const response = await fetch(`http://localhost:3001/books/${data._id}`, {\n      method: 'PUT',\n      header: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    console.log(data);\n    // Update list of bookmarks\n    getInfo();\n  };\n\n\n\n  return (\n    <>\n    <header><h1>Bookmarkd</h1></header>\n    <nav><h2>Add a Bookmark</h2>\n      <Form initial={blank} handleSubmit={handleCreate}></Form>\n      <h2>Edit Bookmark</h2>\n      <Form initial={editBookmark} handleSubmit={handleEdit} /></nav>\n      \n\n      \n      <ul>\n        {books\n          ? books.map((bookmark) => {\n            return (\n              <li key={bookmark._id}>\n                <a href={bookmark.url}><h2>{bookmark.title}</h2></a>\n                <button onClick={() => {handleDelete(bookmark._id);}}>\n                  X\n                </button>\n                <button onClick={() => {handleSelect(bookmark)}}>\n                  Edit\n                </button>\n              </li>\n            );\n          })\n          : \"Loading...\"\n        }\n      </ul>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}